{"ast":null,"code":"class ImagePickerService{async launchImageLibraryAsync(options){return new Promise(resolve=>{const input=document.createElement(\"input\");input.type=\"file\";input.accept=\"image/*\";input.style.display=\"none\";input.onchange=event=>{const target=event.target;const files=target.files;if(!files||files.length===0){resolve({canceled:true});document.body.removeChild(input);return;}const file=files[0];const reader=new FileReader();reader.onload=e=>{const uri=e.target?.result;resolve({canceled:false,assets:[{uri,type:file.type,name:file.name,file}]});document.body.removeChild(input);};reader.onerror=()=>{resolve({canceled:true});document.body.removeChild(input);};reader.readAsDataURL(file);};document.body.appendChild(input);input.click();});}async requestMediaLibraryPermissionsAsync(){return{status:\"granted\"};}}export const MediaTypeOptions={Images:\"Images\",Videos:\"Videos\",All:\"All\"};export default new ImagePickerService();","map":{"version":3,"names":["ImagePickerService","launchImageLibraryAsync","options","Promise","resolve","input","document","createElement","type","accept","style","display","onchange","event","target","files","length","canceled","body","removeChild","file","reader","FileReader","onload","e","uri","result","assets","name","onerror","readAsDataURL","appendChild","click","requestMediaLibraryPermissionsAsync","status","MediaTypeOptions","Images","Videos","All"],"sources":["C:/Users/user/Desktop/projects/life/Yo/yovibe-web/src/services/ImagePickerService.web.ts"],"sourcesContent":["// Web-specific implementation of ImagePickerService\n\nexport interface ImagePickerResult {\n  canceled: boolean\n  assets?: Array<{\n    uri: string\n    type?: string\n    name?: string\n    file?: File // Web-specific, contains the actual File object\n  }>\n}\n\nexport interface ImagePickerOptions {\n  mediaTypes: \"Images\" | \"Videos\" | \"All\"\n  allowsEditing?: boolean\n  aspect?: [number, number]\n  quality?: number\n}\n\n/**\n * Web implementation of image picker using HTML file input\n */\nclass ImagePickerService {\n  /**\n   * Launch the device's image library and let the user select an image\n   */\n  async launchImageLibraryAsync(options: ImagePickerOptions): Promise<ImagePickerResult> {\n    return new Promise((resolve) => {\n      // Create a file input element\n      const input = document.createElement(\"input\")\n      input.type = \"file\"\n      input.accept = \"image/*\"\n      input.style.display = \"none\"\n\n      // Handle file selection\n      input.onchange = (event) => {\n        const target = event.target as HTMLInputElement\n        const files = target.files\n\n        if (!files || files.length === 0) {\n          resolve({ canceled: true })\n          document.body.removeChild(input)\n          return\n        }\n\n        const file = files[0]\n        const reader = new FileReader()\n\n        reader.onload = (e) => {\n          const uri = e.target?.result as string\n          resolve({\n            canceled: false,\n            assets: [\n              {\n                uri,\n                type: file.type,\n                name: file.name,\n                file, // Store the actual File object for later upload\n              },\n            ],\n          })\n          document.body.removeChild(input)\n        }\n\n        reader.onerror = () => {\n          resolve({ canceled: true })\n          document.body.removeChild(input)\n        }\n\n        // Read the file as a data URL\n        reader.readAsDataURL(file)\n      }\n\n      // Add to DOM and trigger click\n      document.body.appendChild(input)\n      input.click()\n    })\n  }\n\n  /**\n   * Request permissions - not needed for web\n   */\n  async requestMediaLibraryPermissionsAsync() {\n    return { status: \"granted\" }\n  }\n}\n\n// Constants to match expo-image-picker API\nexport const MediaTypeOptions = {\n  Images: \"Images\",\n  Videos: \"Videos\",\n  All: \"All\",\n}\n\nexport default new ImagePickerService()\n"],"mappings":"AAsBA,KAAM,CAAAA,kBAAmB,CAIvB,KAAM,CAAAC,uBAAuBA,CAACC,OAA2B,CAA8B,CACrF,MAAO,IAAI,CAAAC,OAAO,CAAEC,OAAO,EAAK,CAE9B,KAAM,CAAAC,KAAK,CAAGC,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC,CAC7CF,KAAK,CAACG,IAAI,CAAG,MAAM,CACnBH,KAAK,CAACI,MAAM,CAAG,SAAS,CACxBJ,KAAK,CAACK,KAAK,CAACC,OAAO,CAAG,MAAM,CAG5BN,KAAK,CAACO,QAAQ,CAAIC,KAAK,EAAK,CAC1B,KAAM,CAAAC,MAAM,CAAGD,KAAK,CAACC,MAA0B,CAC/C,KAAM,CAAAC,KAAK,CAAGD,MAAM,CAACC,KAAK,CAE1B,GAAI,CAACA,KAAK,EAAIA,KAAK,CAACC,MAAM,GAAK,CAAC,CAAE,CAChCZ,OAAO,CAAC,CAAEa,QAAQ,CAAE,IAAK,CAAC,CAAC,CAC3BX,QAAQ,CAACY,IAAI,CAACC,WAAW,CAACd,KAAK,CAAC,CAChC,OACF,CAEA,KAAM,CAAAe,IAAI,CAAGL,KAAK,CAAC,CAAC,CAAC,CACrB,KAAM,CAAAM,MAAM,CAAG,GAAI,CAAAC,UAAU,CAAC,CAAC,CAE/BD,MAAM,CAACE,MAAM,CAAIC,CAAC,EAAK,CACrB,KAAM,CAAAC,GAAG,CAAGD,CAAC,CAACV,MAAM,EAAEY,MAAgB,CACtCtB,OAAO,CAAC,CACNa,QAAQ,CAAE,KAAK,CACfU,MAAM,CAAE,CACN,CACEF,GAAG,CACHjB,IAAI,CAAEY,IAAI,CAACZ,IAAI,CACfoB,IAAI,CAAER,IAAI,CAACQ,IAAI,CACfR,IACF,CAAC,CAEL,CAAC,CAAC,CACFd,QAAQ,CAACY,IAAI,CAACC,WAAW,CAACd,KAAK,CAAC,CAClC,CAAC,CAEDgB,MAAM,CAACQ,OAAO,CAAG,IAAM,CACrBzB,OAAO,CAAC,CAAEa,QAAQ,CAAE,IAAK,CAAC,CAAC,CAC3BX,QAAQ,CAACY,IAAI,CAACC,WAAW,CAACd,KAAK,CAAC,CAClC,CAAC,CAGDgB,MAAM,CAACS,aAAa,CAACV,IAAI,CAAC,CAC5B,CAAC,CAGDd,QAAQ,CAACY,IAAI,CAACa,WAAW,CAAC1B,KAAK,CAAC,CAChCA,KAAK,CAAC2B,KAAK,CAAC,CAAC,CACf,CAAC,CAAC,CACJ,CAKA,KAAM,CAAAC,mCAAmCA,CAAA,CAAG,CAC1C,MAAO,CAAEC,MAAM,CAAE,SAAU,CAAC,CAC9B,CACF,CAGA,MAAO,MAAM,CAAAC,gBAAgB,CAAG,CAC9BC,MAAM,CAAE,QAAQ,CAChBC,MAAM,CAAE,QAAQ,CAChBC,GAAG,CAAE,KACP,CAAC,CAED,cAAe,IAAI,CAAAtC,kBAAkB,CAAC,CAAC","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}